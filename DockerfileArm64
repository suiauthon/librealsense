FROM ubuntu:16.04

WORKDIR /realsense

RUN sed -i "s/^deb /deb [arch=amd64] /g" /etc/apt/sources.list && \
    echo "\
    deb [arch=arm64] http://ports.ubuntu.com/ xenial main restricted\n \
    deb [arch=arm64] http://ports.ubuntu.com/ xenial-updates main restricted\n \
    deb [arch=arm64] http://ports.ubuntu.com/ xenial universe\n \
    deb [arch=arm64] http://ports.ubuntu.com/ xenial-updates universe" \
    >> /etc/apt/sources.list && \
    dpkg --add-architecture arm64 && \
    apt-get update && \
    apt-get install --no-install-recommends --assume-yes \
    gcc-aarch64-linux-gnu g++-aarch64-linux-gnu cmake \
    libglfw3-dev:arm64 libgtk-3-dev:arm64 libusb-1.0-0-dev:arm64
